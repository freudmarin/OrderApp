<mat-card class="mat-elevation-z4">
  <mat-card-title>
    <h1 class="mat-h1" *ngIf="!onUpdate">Please add the user</h1>
    <h1 class="mat-h1" *ngIf="onUpdate">Please update the user</h1>
  </mat-card-title>
  <mat-card-content>
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <mat-form-field>
        <mat-label>Full Name</mat-label>
        <input matInput type="text" id="inputFullName" [formControlName]="'fullName'" placeholder="Full Name">
        <mat-error *ngIf="(userFormControl.fullName.touched || submitted) && userFormControl.fullName.errors?.required">
          Full Name is required
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Username</mat-label>
        <input matInput type="text" id="inputUsername" [formControlName]="'username'" placeholder="Username">
        <mat-error *ngIf="(userFormControl.username.touched || submitted) && userFormControl.username.errors?.required">
          User Name is required
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Job Title</mat-label>
        <input matInput type="text" id="inputJobTitle" [formControlName]="'jobTitle'" placeholder="Job Title">
        <mat-error *ngIf="(userFormControl.jobTitle.touched || submitted) && userFormControl.jobTitle.errors?.required">
          Job Title is required
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Role</mat-label>
        <mat-select id="role" [formControlName]="'role'">
          <mat-option *ngFor="let role of roles" [value]="role">{{ role }}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field *ngIf="!onUpdate">
        <mat-label>Password</mat-label>
        <input matInput type="password" id="inputPassword" [formControlName]="'password'" placeholder="Password">
        <mat-error *ngIf="(userFormControl.password.touched || submitted) && !onUpdate && userFormControl.password.errors?.required">
          Password is required
        </mat-error>
      </mat-form-field>
      <mat-form-field *ngIf="!onUpdate">
        <mat-label>Confirm Password</mat-label>
        <input matInput type="password" id="inputConfirmPassword" [formControlName]="'confirmPassword'" placeholder="Confirm Password">
        <mat-error *ngIf="(userFormControl.confirmPassword.touched || submitted) && !onUpdate && userFormControl.confirmPassword.errors?.required">
          Confirm Password is required
        </mat-error>
        <mat-error *ngIf="userFormControl.confirmPassword.touched && !onUpdate && userFormControl.confirmPassword.errors?.passwordMismatch">
          Passwords do not match
        </mat-error>
      </mat-form-field>
      <div class="button-container">
        <button mat-raised-button color="primary" *ngIf="!onUpdate" type="submit">Add User</button>
        <button mat-raised-button color="primary" *ngIf="onUpdate" type="submit">Update User</button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
